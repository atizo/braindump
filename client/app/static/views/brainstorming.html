<bd-header tools="toolBar" href="/"></bd-header>
<div class="container">
  <h2 ng-bind="brainstorming.question"></h2>

  <div ng-if="brainstorming.details"
       ng-bind="brainstorming.details"></div>
  <div ng-bind="brainstorming.createdFormatted" class="text-muted small"></div>

  <form name="form" class="well text-left" role="form" ng-submit="create()" novalidate>
    <div ng-show="fullform" class="form-show form-group">
      <input ng-model="formData.title" type="text" class="form-control input-bold"
             placeholder="Title (optional)">
    </div>
    <textarea rows="1" ng-model="formData.text" ng-click="fullform=true"
              class="form-control msd-elastic" placeholder="Add idea" required="required"></textarea>

    <div ng-show="fullform" class="form-show">
      <div class="form-group">
        <input ng-model="formData.creatorName" type="text" class="form-control"
               placeholder="Name (optional)">
      </div>
      <button ng-disabled="form.$invalid" type="submit" class="btn btn-info">Add</button>
    </div>
  </form>

  <div class="idea-masonry" masonry min-column-width="150" gap-percentage="5">
    <div ng-repeat="idea in ideas track by idea.id | bdToArray | orderBy:'-created'" class="masonry-brick">
      <bd-idea resource="idea" limit-text="true" dynamic-text-size="true" ng-click="openDetail(idea)"></bd-idea>
    </div>
  </div>
</div>
